import React, { useEffect, useRef } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

// Import Laravel logo
import LaravelLogo from "../assets/laravel-logo.png";

gsap.registerPlugin(ScrollTrigger);

// Skill Icons - Using inline SVGs for free use
const skillIcons = {
  HTML5: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#E44D26" d="M19.037 113.876L9.032 1.661h109.936l-10.016 112.198-45.019 12.48z"/>
      <path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878H64z"/>
      <path fill="#EBEBEB" d="M64 52.455H45.788L44.53 38.361H64V24.599H29.489l.33 3.692 3.382 37.927H64zm0 35.743l-.061.017-15.327-4.14-.979-10.975H33.816l1.928 21.609 28.193 7.826.063-.017z"/>
      <path fill="#fff" d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zm0-27.856v13.762h33.244l.276-3.092.628-6.978.329-3.692z"/>
    </svg>
  ),
  CSS3: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#1572B6" d="M18.814 114.123L8.76 1.352h110.48l-10.064 112.754-45.243 12.543z"/>
      <path fill="#33A9DC" d="M64.001 117.062l36.559-10.136 8.601-96.354h-45.16z"/>
      <path fill="#fff" d="M64.001 51.429h18.302l1.264-14.163H64.001V23.435h34.682l-.332 3.711-3.4 38.114h-30.95z"/>
      <path fill="#EBEBEB" d="M64.083 87.349l-.061.018-15.403-4.159-.985-11.031H33.752l1.937 21.717 28.331 7.863.063-.018z"/>
      <path fill="#fff" d="M81.127 64.675l-1.666 18.522-15.426 4.164v14.39l28.354-7.858.208-2.337 2.406-26.881z"/>
      <path fill="#EBEBEB" d="M64.048 23.435v13.831H30.64l-.277-3.108-.63-7.012-.331-3.711zm-.047 27.994v13.831H48.792l-.277-3.108-.631-7.012-.33-3.711z"/>
    </svg>
  ),
  JavaScript: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#F0DB4F" d="M1.408 1.408h125.184v125.185H1.408z"/>
      <path fill="#323330" d="M116.347 96.736c-.917-5.711-4.641-10.508-15.672-14.981-3.832-1.761-8.104-3.022-9.377-5.926-.452-1.69-.512-2.642-.226-3.665.821-3.32 4.784-4.355 7.925-3.403 2.023.678 3.938 2.237 5.093 4.724 5.402-3.498 5.391-3.475 9.163-5.879-1.381-2.141-2.118-3.129-3.022-4.045-3.249-3.629-7.676-5.498-14.756-5.355l-3.688.477c-3.534.893-6.902 2.748-8.877 5.235-5.926 6.724-4.236 18.492 2.975 23.335 7.104 5.332 17.54 6.545 18.873 11.531 1.297 6.104-4.486 8.08-10.234 7.378-4.236-.881-6.592-3.034-9.139-6.949-4.688 2.713-4.688 2.713-9.508 5.485 1.143 2.499 2.344 3.63 4.26 5.795 9.068 9.198 31.76 8.746 35.83-5.176.165-.478 1.261-3.666.38-8.581zM69.462 58.943H57.753l-.048 30.272c0 6.438.333 12.34-.714 14.149-1.713 3.558-6.152 3.117-8.175 2.427-2.059-1.012-3.106-2.451-4.319-4.485-.333-.584-.583-1.036-.667-1.071l-9.52 5.83c1.583 3.249 3.915 6.069 6.902 7.901 4.462 2.678 10.459 3.499 16.731 2.059 4.082-1.189 7.604-3.652 9.448-7.401 2.666-4.915 2.094-10.864 2.07-17.444.06-10.735.001-21.468.001-32.237z"/>
    </svg>
  ),
  React: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <g fill="#61DAFB">
        <circle cx="64" cy="64" r="11.4"/>
        <path d="M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3C8.2 50 1.4 56.6 1.4 64s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zM92.5 14.7c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zM81.3 74c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zM64 97.8c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zM64 30.2c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zM33.1 35c-1.6-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zM7 64c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5C15.3 75.6 7 69.6 7 64zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zM96.3 93c1.6 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"/>
      </g>
    </svg>
  ),
  "Next.js": (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <circle cx="64" cy="64" r="64" fill="currentColor"/>
      <path fill="#0a0a0f" d="M106.317 112.014L49.167 38.4H38.4v51.179h8.614v-40.24l52.786 67.869a64.216 64.216 0 006.517-5.194zM81.778 38.4h8.533v51.2h-8.533z"/>
    </svg>
  ),
  Laravel: (
    <img src={LaravelLogo} alt="Laravel" width="24" height="24" style={{ objectFit: 'contain' }} />
  ),
  "Tailwind CSS": (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#38bdf8" d="M64.004 25.602c-17.067 0-27.73 8.53-32 25.597 6.398-8.531 13.867-11.73 22.398-9.597 4.871 1.214 8.352 4.746 12.207 8.66C72.883 56.629 80.145 64 96.004 64c17.066 0 27.73-8.531 32-25.602-6.399 8.536-13.867 11.735-22.399 9.602-4.87-1.215-8.347-4.746-12.207-8.66-6.27-6.367-13.53-13.738-29.394-13.738zM32.004 64c-17.066 0-27.73 8.531-32 25.602C6.402 81.066 13.87 77.867 22.402 80c4.871 1.215 8.352 4.746 12.207 8.66 6.274 6.367 13.536 13.738 29.395 13.738 17.066 0 27.73-8.53 32-25.597-6.399 8.531-13.867 11.73-22.399 9.597-4.87-1.214-8.347-4.746-12.207-8.66C55.128 71.371 47.868 64 32.004 64z"/>
    </svg>
  ),
  "Alpine.js": (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#77c1d2" d="M96.618 31.382L64 63.999l32.618 32.617 32.618-32.617z"/>
      <path fill="#2d3441" d="M32.618 31.382l-31.764 31.764a1.207 1.207 0 000 1.706l31.764 31.764 32.617-32.617z"/>
    </svg>
  ),
  Figma: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#0acf83" d="M45.5 129c11.598 0 21-9.402 21-21V87H45.5c-11.598 0-21 9.402-21 21s9.402 21 21 21z"/>
      <path fill="#a259ff" d="M24.5 66c0-11.598 9.402-21 21-21h21v42h-21c-11.598 0-21-9.402-21-21z"/>
      <path fill="#f24e1e" d="M24.5 24c0-11.598 9.402-21 21-21h21v42h-21c-11.598 0-21-9.402-21-21z"/>
      <path fill="#ff7262" d="M66.5 3h21c11.598 0 21 9.402 21 21s-9.402 21-21 21h-21z"/>
      <path fill="#1abcfe" d="M108.5 66c0 11.598-9.402 21-21 21s-21-9.402-21-21 9.402-21 21-21 21 9.402 21 21z"/>
    </svg>
  ),
  Git: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#F34F29" d="M124.737 58.378L69.621 3.264c-3.172-3.174-8.32-3.174-11.497 0L46.68 14.71l14.518 14.518c3.375-1.139 7.243-.375 9.932 2.314 2.703 2.706 3.461 6.607 2.294 9.993l13.992 13.993c3.385-1.167 7.292-.413 9.994 2.295 3.78 3.777 3.78 9.9 0 13.679a9.673 9.673 0 01-13.683 0 9.677 9.677 0 01-2.105-10.521L68.574 47.933l-.002 34.341a9.708 9.708 0 012.559 1.828c3.778 3.777 3.778 9.898 0 13.683-3.779 3.777-9.904 3.777-13.679 0-3.778-3.784-3.778-9.905 0-13.683a9.65 9.65 0 013.167-2.11V47.333a9.581 9.581 0 01-3.167-2.111c-2.862-2.86-3.551-7.06-2.083-10.576L41.056 20.333 3.264 58.123a8.133 8.133 0 000 11.5l55.117 55.114c3.174 3.174 8.32 3.174 11.499 0l54.858-54.858a8.135 8.135 0 00-.001-11.501z"/>
    </svg>
  ),
  MySQL: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#00618A" d="M116.948 97.807c-6.863-.187-12.104.452-16.585 2.341-1.273.537-3.305.552-3.513 2.147.7.733.807 1.83 1.356 2.732 1.054 1.733 2.842 4.052 4.453 5.269 1.762 1.329 3.554 2.718 5.471 3.853 3.406 2.015 7.215 3.166 10.503 5.182 1.939 1.186 3.863 2.681 5.769 4.052.937.684 1.563 1.748 2.732 2.145v-.208c-.629-.79-.791-1.874-1.355-2.732l-2.533-2.537c-2.476-3.275-5.583-6.153-8.903-8.502-2.646-1.873-8.574-4.392-9.68-7.415l-.206-.207c1.881-.199 4.089-.898 5.869-1.355 2.939-.754 5.566-.576 8.607-1.354.91-.244 1.822-.509 2.731-.753V98.37c-1.018-1.044-1.762-2.424-2.927-3.319-3.06-2.349-6.408-4.693-9.88-6.623-1.916-1.067-4.299-1.755-6.369-2.535-1.14-.436-3.063-.623-3.916-1.336-.869-1.04-1.375-2.406-2.029-3.633-1.364-2.55-2.699-5.345-3.813-8.062-1.262-3.072-2.082-6.125-3.621-9.093-7.349-14.169-15.266-22.726-27.509-31.146-2.609-1.79-5.743-2.498-9.071-3.42l-5.379-.2c-1.092-.456-2.229-1.79-3.199-2.427-3.868-2.534-13.797-8.054-16.685-.886-1.823 4.526 2.725 8.953 4.322 11.254 1.121 1.615 2.556 3.426 3.326 5.282.508 1.227.595 2.467 1.058 3.718 1.136 3.082 2.205 6.458 3.713 9.289.759 1.425 1.597 2.918 2.534 4.194.562.762 1.523 1.1 1.755 2.231-.986 1.38-1.042 3.52-1.553 5.283-2.3 7.923-1.43 17.762 1.906 23.608 1.024 1.798 3.438 5.668 6.727 4.192 2.877-1.291 2.235-5.291 3.059-8.837.186-.8.068-1.39.461-1.942v.206c.92 1.841 1.845 3.674 2.732 5.526 2.022 3.346 5.587 6.836 8.558 9.171 1.543 1.213 2.754 3.298 4.657 4.099v-.207h-.205c-.392-.607-1-1.04-1.554-1.549-1.21-1.115-2.566-2.494-3.52-3.754-2.845-3.751-5.357-7.87-7.611-12.086-.858-1.601-1.599-3.37-2.331-5.08-.282-.663-.279-1.664-.767-2.024-.716 1.11-1.768 2.014-2.33 3.313-1.116 2.578-1.242 5.731-1.649 9.069-.24.098-.134.031-.207.206-2.027-.479-2.742-2.571-3.516-4.321-1.962-4.437-2.324-11.576-.608-16.696.444-1.325 2.461-5.496 1.646-6.772-.391-1.274-1.676-2.016-2.382-3.019-1.379-1.96-2.762-4.168-3.818-6.372-2.79-5.821-4.141-12.329-7.114-18.204-1.424-2.813-3.836-5.678-5.868-8.159-.992-1.212-2.211-2.096-2.929-3.616.329-.553.208-.868.609-1.353 1.003-.608 3.842-.235 5.078.206 3.271 1.165 6.008 2.268 8.762 3.917.667.399 1.34 1.185 2.137 1.385h.948c1.481.34 3.14.101 4.52.512 2.453.729 4.658 1.866 6.627 3.065 6.014 3.662 10.934 8.878 14.262 15.104 1.339 2.504 1.919 4.894 3.109 7.51 2.384 5.24 5.389 10.628 7.766 15.762 2.38 5.141 4.69 10.3 8.063 14.559 1.771 2.237 8.617 3.44 11.711 4.687 2.184.878 5.693 1.78 7.715 2.929 3.758 2.134 7.4 4.56 10.907 6.969 1.751 1.207 7.133 3.856 7.414 6.077z"/>
      <path fill="#E48E00" d="M52.645 21.015c-1.109-.003-1.896.11-2.731.309v.208h.205c.529 1.092 1.467 1.804 2.139 2.731.526 1.09 1.017 2.182 1.544 3.273l.203-.206c.954-.674 1.393-1.748 1.352-3.418-.377-.395-.43-.886-.756-1.345-.397-.572-1.164-.902-1.956-1.552z"/>
    </svg>
  ),
  PHP: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#6181B6" d="M64 33.039C30.26 33.039 2.906 46.901 2.906 64S30.26 94.961 64 94.961 125.094 81.099 125.094 64 97.74 33.039 64 33.039zM48.103 70.032c-1.458 1.364-3.077 1.927-4.86 2.507-1.783.581-4.052.461-6.811.461h-6.253l-1.733 10h-7.301l6.515-34H41.7c4.224 0 7.305 1.215 9.242 3.432 1.937 2.217 2.519 5.364 1.747 9.337-.319 1.637-.856 3.159-1.614 4.515-.759 1.357-1.75 2.624-2.972 3.748zm21.311 0c-1.458 1.364-3.078 1.927-4.86 2.507-1.782.581-4.053.461-6.812.461h-6.253l-1.732 10h-7.301l6.514-34h14.041c4.224 0 7.305 1.215 9.241 3.432 1.938 2.217 2.52 5.364 1.747 9.337-.319 1.637-.856 3.159-1.614 4.515a13.842 13.842 0 01-2.971 3.748zm40.478-5.077c-.36 1.797-.963 3.41-1.765 4.842-.803 1.433-1.886 2.671-3.207 3.717-1.323 1.048-3.02 1.677-5.093 1.859-.748.061-1.39.091-1.921.091h-6.253l-1.733 10h-7.301l6.515-34h14.041c2.195 0 4.018.367 5.469 1.103 1.452.737 2.513 1.813 3.187 3.227s.898 3.092.672 5.029l-.069.473c-.165.823-.41 1.636-.735 2.441-.325.805-.724 1.584-1.193 2.334-.47.75-1.019 1.462-1.647 2.134a11.014 11.014 0 01-2.101 1.757l-.869.588c-.295.187-.61.358-.944.508-.335.151-.687.283-1.053.395z"/>
      <path fill="#fff" d="M39.068 50H31.2l-3.5 16h6.086c2.894 0 5.27-.574 7.035-1.725 1.766-1.15 2.97-3.308 3.464-6.464.36-2.291.136-3.869-.67-4.736-.806-.866-2.453-1.075-5.547-1.075zm21.311 0H52.51l-3.5 16h6.086c2.894 0 5.27-.574 7.035-1.725 1.765-1.15 2.969-3.308 3.463-6.464.36-2.291.136-3.869-.67-4.736-.806-.866-2.453-1.075-5.546-1.075zm38.455 0h-7.867l-3.5 16h6.086c2.894 0 5.27-.574 7.035-1.725 1.765-1.15 2.969-3.308 3.463-6.464.36-2.291.136-3.869-.67-4.736-.806-.866-2.452-1.075-5.547-1.075z"/>
    </svg>
  ),
  Node: (
    <svg viewBox="0 0 128 128" width="24" height="24">
      <path fill="#83CD29" d="M112.771 30.334L68.674 4.729c-2.781-1.584-6.402-1.584-9.205 0L14.901 30.334C12.031 31.985 10 35.088 10 38.407v51.142c0 3.319 2.084 6.423 4.954 8.083l11.775 6.688c5.628 2.772 7.617 2.772 10.178 2.772 8.333 0 13.093-5.039 13.093-13.828v-50.49c0-.713-.371-1.774-1.071-1.774h-5.623c-.712 0-2.306 1.061-2.306 1.773v50.49c0 3.896-3.524 7.773-10.11 4.48L18.723 90.73c-.424-.23-.723-.693-.723-1.181V38.407c0-.482.555-.966.982-1.213l44.424-25.561c.415-.235 1.025-.235 1.439 0l43.882 25.555c.42.253.272.722.272 1.219v51.142c0 .488.183.963-.232 1.198l-44.086 25.576c-.378.227-.847.227-1.261 0l-11.307-6.749c-.341-.198-.746-.269-1.073-.086-3.146 1.783-3.726 2.02-6.677 3.043-.726.253-1.797.692.41 1.929l14.798 8.754a9.294 9.294 0 004.647 1.246c1.642 0 3.25-.426 4.667-1.246l43.885-25.582c2.87-1.672 4.23-4.764 4.23-8.083V38.407c0-3.319-1.36-6.414-4.229-8.073zM77.91 81.445c-11.726 0-14.309-3.235-15.17-9.066-.1-.628-.633-1.379-1.272-1.379h-5.731c-.709 0-1.279.86-1.279 1.566 0 7.466 4.059 16.512 23.453 16.512 14.039 0 22.088-5.455 22.088-15.109 0-9.572-6.467-12.084-20.082-13.886-13.762-1.819-15.16-2.738-15.16-5.962 0-2.658 1.184-6.203 11.374-6.203 9.105 0 12.461 1.954 13.842 8.091.118.577.645 1.137 1.215 1.137h5.721c.344 0 .698-.246.943-.509.244-.262.453-.572.396-.958-.64-9.48-8.448-13.882-22.117-13.882-12.631 0-20.166 5.334-20.166 14.275 0 9.698 7.497 12.378 19.622 13.577 14.505 1.422 15.633 3.542 15.633 6.395 0 4.955-3.978 7.066-13.309 7.401z"/>
    </svg>
  ),
  GSAP: (
    <svg viewBox="0 0 100 100" width="24" height="24">
      <circle cx="50" cy="50" r="48" fill="#0ae448"/>
      <path fill="#000" d="M50 10c22.091 0 40 17.909 40 40S72.091 90 50 90 10 72.091 10 50s17.909-40 40-40zm0 5c-19.33 0-35 15.67-35 35s15.67 35 35 35 35-15.67 35-35-15.67-35-35-35z"/>
      <text x="50" y="58" textAnchor="middle" fill="#000" fontWeight="bold" fontSize="20" fontFamily="Arial">GS</text>
    </svg>
  ),
};

const Skills = () => {
  const sectionRef = useRef(null);
  const headingRef = useRef(null);
  const badgesRef = useRef([]);

  const skills = [
    { name: "React", icon: skillIcons.React },
    { name: "Next.js", icon: skillIcons["Next.js"] },
    { name: "JavaScript", icon: skillIcons.JavaScript },
    { name: "Laravel", icon: skillIcons.Laravel },
    { name: "Tailwind CSS", icon: skillIcons["Tailwind CSS"] },
    { name: "GSAP", icon: skillIcons.GSAP },
    { name: "Node.js", icon: skillIcons.Node },
    { name: "Alpine.js", icon: skillIcons["Alpine.js"] },
    { name: "HTML5", icon: skillIcons.HTML5 },
    { name: "CSS3", icon: skillIcons.CSS3 },
    { name: "Figma", icon: skillIcons.Figma },
    { name: "Git", icon: skillIcons.Git },
    { name: "MySQL", icon: skillIcons.MySQL },
    { name: "PHP", icon: skillIcons.PHP },
  ];

  useEffect(() => {
    // Heading animation
    gsap.fromTo(
      headingRef.current,
      { opacity: 0, y: 60 },
      {
        opacity: 1,
        y: 0,
        duration: 1,
        ease: "power3.out",
        scrollTrigger: {
          trigger: sectionRef.current,
          start: "top 80%",
          toggleActions: "play none none reverse",
        },
      }
    );

    // Badges stagger animation
    gsap.fromTo(
      badgesRef.current.filter(Boolean),
      { opacity: 0, y: 40, scale: 0.9 },
      {
        opacity: 1,
        y: 0,
        scale: 1,
        duration: 0.6,
        stagger: { each: 0.06, from: "start" },
        ease: "power3.out",
        scrollTrigger: {
          trigger: sectionRef.current,
          start: "top 70%",
          toggleActions: "play none none reverse",
        },
      }
    );

    // Hover magnetic effect
    badgesRef.current.forEach((badge) => {
      if (!badge) return;

      const handleMouseMove = (e) => {
        const rect = badge.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;

        gsap.to(badge, {
          x: x * 0.15,
          y: y * 0.15,
          duration: 0.3,
          ease: "power2.out",
        });
      };

      const handleMouseLeave = () => {
        gsap.to(badge, {
          x: 0,
          y: 0,
          duration: 0.5,
          ease: "elastic.out(1, 0.5)",
        });
      };

      badge.addEventListener("mousemove", handleMouseMove);
      badge.addEventListener("mouseleave", handleMouseLeave);

      return () => {
        badge.removeEventListener("mousemove", handleMouseMove);
        badge.removeEventListener("mouseleave", handleMouseLeave);
      };
    });
  }, []);

  return (
    <section
      id="skills"
      ref={sectionRef}
      className="relative py-24 px-5 sm:px-10 overflow-hidden"
    >
      {/* Background decoration */}
      <div className="absolute top-0 left-1/4 w-64 h-64 rounded-full bg-[var(--color-accent)] opacity-[0.03] blur-3xl" />
      <div className="absolute bottom-0 right-1/4 w-80 h-80 rounded-full bg-[var(--color-cyan)] opacity-[0.03] blur-3xl" />

      <div className="max-w-6xl mx-auto relative z-10">
        {/* Section Header */}
        <div ref={headingRef} className="mb-16">
          <div className="flex items-center gap-4 mb-4">
            <span className="text-[var(--color-accent)] text-sm font-medium tracking-wider uppercase">
              My Expertise
            </span>
            <div className="h-px flex-1 max-w-[100px] bg-gradient-to-r from-[var(--color-accent)] to-transparent" />
          </div>
          <h2 className="heading-display text-3xl sm:text-4xl lg:text-5xl text-[var(--color-text-primary)]">
            Skills & <span className="text-gradient">Technologies</span>
          </h2>
          <p className="mt-4 text-[var(--color-text-secondary)] max-w-xl">
            A collection of technologies and tools I've mastered throughout my
            journey in web development and design.
          </p>
        </div>

        {/* Skills Grid */}
        <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4">
          {skills.map((skill, index) => (
            <div
              key={skill.name}
              ref={(el) => (badgesRef.current[index] = el)}
              className="skill-badge group cursor-pointer"
            >
              <span className="flex-shrink-0">{skill.icon}</span>
              <span className="truncate">{skill.name}</span>
            </div>
          ))}
        </div>
      </div>

      {/* Section divider */}
      <div className="section-divider mt-12" />
    </section>
  );
};

export default Skills;
